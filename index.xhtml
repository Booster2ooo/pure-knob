<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//w3c//dtd xhtml 1.0 strict//en" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>
			pure-knob: Test
		</title>
		<script src="pureknob.js" type="text/javascript"></script>
		<script type="text/javascript">
			
			/*
			 * This is executed after the document finished loading.
			 */
			function ready() {
				var body = document.getElementsByTagName('body')[0];
				var graph = pureknob.createBarGraph(400, 40);
				graph.setProperty('colorFG', '#44ff44');
				graph.setProperty('colorMarkers', '#ffffff');
				graph.setProperty('markerStart', -60);
				graph.setProperty('markerEnd', 0);
				graph.setProperty('markerStep', 10);
				graph.setProperty('valMin', -145);
				graph.setProperty('valMax', 0);
				graph.setValue(-25);
				graph.setPeaks([-18]);
				var node = graph.node();
				body.appendChild(node);
				window.graph = graph;
				
				/*
				 * This is executed on each timer tick.
				 */
				var t = function(e) {
					var v = graph.getValue();
					
					/*
					 * As long as value is greater than -80, decrement it.
					 */
					if (v > -80) {
						v--;
						graph.setValue(v);
					}
					
				};
				
				window.setInterval(t, 200);
			}
			
			document.addEventListener('DOMContentLoaded', ready, false);
		</script>
	</head>
	<body style="background-color: #444444">
	</body>
</html>

